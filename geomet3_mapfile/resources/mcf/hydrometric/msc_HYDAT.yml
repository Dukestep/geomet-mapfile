%YAML 1.1
---

#msc-metadata:
#   phase: CCCS
#   publish-to:
#       - ECDC
#            url:  http://donnees-data.intranet.ec.gc.ca/geonetwork/metadata/eng/1ee9e14d-0814-5201-a3be-705809d8ee0e
#   running: pygeometa generate-metadata --mcf /PATH/discovery-metadata/mcf/hydrometric/msc_HYDAT.yml --schema=iso19139-hnap --output msc_HYDAT.xml
#       - open.canada.ca
#            url:
#   data_stewards:
#      - name: Lingling Liu
#           status: confirmed
#           email: lingling.liu@canada.ca

#pygeometa mcf info
mcf:
    version: 1.0

# Inheriting contact information from main-contact.yml
base_mcf: ../shared/contact-main.yml

metadata:
    charset: utf8
    hierarchylevel: dataset
    # Identifier: see https://wiki.cmc.ec.gc.ca/wiki/DPS/Metadata/UUID
    # URL USED: http://dd.weather.gc.ca/hydrometric/
    identifier: 1ee9e14d-0814-5201-a3be-705809d8ee0e
    # Primary language of the record, metadata still supports multiple languages
    language: en
    language_alternate: fr
    # The following $date$ value is updated when pygeometa is ran
    datestamp: $date$
    # dataseturi is optional according to the HNAP Guidelines, but is mandatory for pygeometa
# NEED VALIDATION FOR dataseturi
    dataseturi: urn:x-msc-smc:md:hydrometric-hydrometrique::hydrometric.archive
    # parentidentifier is conditional to an existing higher level
    # parentidentifier=someparentid -> NO PARENT ID for the generic nwp.gdps dataset 

spatial:
    datatype: vector
    geomtype: point
    crs: 4326
    # bbox derived from source data by Tom K
    bbox: -142, 28, -52, 82

identification:
    # Primary language, metadata records are both in English and French when appropriate
    language: eng; CAN
    charset: utf8

# The 5 datasets part of HYDAT are detailed here: https://wiki.cmc.ec.gc.ca/wiki/GeoMet_2/Data/Hydrometric#Serving
# This record is the 'root' dataset
    # Titles and abstracts provided by data steward Lingling Liu 2018-08-21
    title_en: Historical Hydrometric Data
    title_fr: Données hydrométriques historiques
    abstract_en: Historical hydrometric data are standardized water resource data and information. They are collected, interpreted and disseminated by the Water Survey of Canada (WSC) in partnership with the provinces, territories and other agencies through the National Hydrometric Program. These data sets include daily mean, monthly mean, annual maximum and minimum daily mean and instantaneous peak water level and discharge information for over 2700 active and 5080 discontinued hydrometric monitoring stations across Canada.
    # French translation provided by translation services contracted by CCCS-Derek
    abstract_fr: Les données hydrométriques historiques sont des données et de l'information normalisées sur les ressources en eau. Elles sont recueillies, interprétées et diffusées par les Relevés hydrologiques du Canada (RHC) en partenariat avec les provinces, territoires et autres organismes par l'intermédiaire du Programme national de relevés hydrométriques. Ces ensembles de données comprennent les valeurs moyennes quotidiennes et mensuelles, les valeurs moyennes quotidiennes minimales et maximales par année et les valeurs des débits et des niveaux d’eau de pointe et instantanés pour plus de 2 700 stations de surveillance hydrométrique actives et 5 080 stations fermées au Canada.

    dates:
        # Date when the model became publicly accessible
        # Background provided by Lingling Liu 2018-08-21: the Department of the Interior, through its Forestry and Irrigation Branch (FIB), published all of the measurements and related technical information for 1894 in its 1895 annual report. This report represented the first published product of stream flow data in Canada
        creation: 1895
        # The following $date$ value is updated when pygeometa is ran
        publication: $date$

    keywords:
        default:
            # Non-CST keywords specified for this dataset
            # Following keywords provided by data steward Lingling Liu 2018-08-21
            keywords_en:
                - Hydrology
                - Streamflow
                - Discharge
                - Water level
                - Water quantity
                - Sediment concentration
            keywords_fr:
                - Hydrologie
                - Écoulement fluvial
                - Décharge
                - Niveau d'eau
                - Water quantity
                - Concentration de sédiments
        # A minimum of one keyword from http://www.thesaurus.gc.ca/default.asp?lang=En&n=EAEAD1E6-1 is required
        gc_cst:
            # keywords_type is constrained by a list
            keywords_type: theme
            # For gc_cst keywords, see https://wiki.cmc.ec.gc.ca/wiki/DPS/Metadata/Keywords
            # Following keywords provided by data steward Lingling Liu 2018-08-21
            keywords_en:
                - Water
                - Inland waters
                - Water management
            keywords_fr:
                - Eau
                - Eaux intérieures
                - Gestion de l'eau
        # Amongst the possible values from ECDC: Air, Air - Quality, Other, Pollution and Waste, Water, Weather and Climate   => French counterparts: Temps et climat
        hnap_category_information:
            keywords_en:
                - Water
            keywords_fr:
                - Eau
        # Amongst the possible values from ECDC: International  => French counterparts: Internationale
        hnap_category_geography:
            keywords_en:
                - National (CA)
            keywords_fr:
                - Nationale (CA)
        # Amongst the possible values from ECDC: Atmosphere => French counterparts: Atmosphère
        hnap_category_content:
            keywords_en:
                - Observation
                - Measurement
            keywords_fr:
                - Observation
                - Mesure
    # topiccategory value is constrained by a list, fixed to climatologyMeteorologyAtmosphere
    # Bruno: In case of future bug, maybe try 'Climatology, meteorology, atmosphere'? (according to Mark Shaw's spreadsheet)
    topiccategory:
        - climatologyMeteorologyAtmosphere

    fees: None
    accessconstraints: otherRestrictions
    rights_en: Open Government Licence - Canada (http://open.canada.ca/en/open-government-licence-canada)
    rights_fr: Licence du gouvernement ouvert - Canada (http://ouvert.canada.ca/fr/licence-du-gouvernement-ouvert-canada)

    # The next URL points to the html documentation, if any, otherwise, to the data source
    url_en: https://wateroffice.ec.gc.ca/mainmenu/historical_data_index_e.html
    url_fr: https://eau.ec.gc.ca/mainmenu/historical_data_index_f.html

    # temporal_begin is mandatory, for ongoing datasets it is set to the day it first became available
    temporal_begin: 1850
    temporal_end: now
    status: onGoing
    # Best fit amongst the possible options, see MCF_Reference.md
    maintenancefrequency: continual


distribution:
    waf_eng-CAN: &id_waf_eng-CAN
        base_mcf: ../shared/distribution-datamart.yml
        # For real-time data: https://dd.weather.gc.ca/hydrometric/
        url: https://collaboration.cmc.ec.gc.ca/cmc/hydrometrics/www/
        # Accepted values for format: AI. AMF,Application,ASCII Grid,BMP,CDED ASCII,CDR,CSV,DOC,dxf,E00,ECW,EDI,EMF,EPS,ESRI REST,EXE,FGDB / GDB,Flat raster binary,GeoPDF,GeoRSS,GeoTIF,GIF,GML,HDF,HTML,IATI,JPEG 2000,JPG,JSON,JSON Lines,KML / KMZ,NetCDF,ODP,ODS,ODT,PDF,PNG,PPT,RDF,RDFa,RSS,SAR / CCT,SAV,SEGY,SHP,SQL,SVG,TIFF,TXT,XLS,XLSM,XML,WFS,WMS,WMTS,Zip,Other
        format_en: SQL
        format_fr: SQL
        # format_version is optional
        # format_version:
    waf_fra-CAN:
        <<: *id_waf_eng-CAN

    wms_eng-CAN: &id_wms_eng-CAN
        base_mcf: ../shared/distribution-geomet.yml
        url: https://geo.weather.gc.ca/geomet-climate/?lang=E&service=WMS&request=GetCapabilities
        # For WMS, name_en and name_fr are the 'default layer' associated to the dataset
        name_en: HYDROMETRIC.STATIONS
        name_fr: HYDROMETRIC.STATIONS
    wms_fra-CAN:
        <<: *id_wms_eng-CAN
        url: https://geo.weather.gc.ca/geomet-climate/?lang=F&service=WMS&request=GetCapabilities

# Note that 4 HYDAT layers are available as WFS and could be added to the yaml?
# For adding WFS, see https://gccode.ssc-spc.gc.ca/ec-msc/discovery-metadata/issues/18

    amqps_eng-CAN: &id_amqps_eng-CAN
        base_mcf: ../shared/distribution-datamart-amqps.yml
        # Example value for url: amqps://dd.weather.gc.ca/model_gem_global.25km.grib2.#
        url: amqps://dd.weather.gc.ca/hydrometric.csv.#
        # Accepted values for format: AI. AMF,Application,ASCII Grid,BMP,CDED ASCII,CDR,CSV,DOC,dxf,E00,ECW,EDI,EMF,EPS,ESRI REST,EXE,FGDB / GDB,Flat raster binary,GeoPDF,GeoRSS,GeoTIF,GIF,GML,HDF,HTML,IATI,JPEG 2000,JPG,JSON,JSON Lines,KML / KMZ,NetCDF,ODP,ODS,ODT,PDF,PNG,PPT,RDF,RDFa,RSS,SAR / CCT,SAV,SEGY,SHP,SQL,SVG,TIFF,TXT,XLS,XLSM,XML,WFS,WMS,WMTS,Zip,Other
        format_en: SQL
        format_fr: SQL
        # format_version is optional
        # format_version:
    amqps_fra-CAN:
        <<: *id_amqps_eng-CAN
