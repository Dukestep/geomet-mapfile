%YAML 1.1
---
### Metadata Control File for the following dataset:
### Global Deterministic Prediction System (GEPS)
### available on the MSC Datamart and MSC GeoMet
#
## Documentation about how this file is used:
# https://wiki.cmc.ec.gc.ca/wiki/DPS/Metadata
#
## Documentation about MCF syntax:
# https://github.com/geopython/pygeometa/blob/master/doc/MCF_Reference.md
#
#
# Alex's command:
# pygeometa generate-metadata --mcf=$HOME/dps/metadata/msc_nwp_geps.mcf --schema=iso19139-hnap --output msc_nwp_geps.xml
#
###

#pygeometa mcf info
mcf:
    version: 1.0

# Inheriting contact information from main-contact.yml
base_mcf: ../shared/contact-main.yml

metadata:
    charset: utf8
    hierarchylevel: dataset
    # Identifier, see https://wiki.cmc.ec.gc.ca/wiki/DPS/Metadata/UUID , URL USED: http://dd.meteo.gc.ca/ensemble/naefs
    identifier: 6d9dd2f8-202e-58cb-a110-e2168832aacb
    # Primary language of the record, metadata still supports multiple languages
    language: en
    language_alternate: fr
    # The following $date$ value is updated when pygeometa is ran
    datestamp: $date$
    # dataseturi is optional according to the HNAP Guidelines, but is mandatory for pygeometa
    #### Next line will be updated according once we to the MSC Data Taxonomy...
    dataseturi: urn:x-msc-smc:md:weather-meteo::nwp.geps
    # parentidentifier is conditional to an existing higher level
    # parentidentifier=someparentid -> NO PARENT ID for the generic nwp.gdps dataset

spatial:
    datatype: grid
    geomtype: solid
    crs: 4326
    bbox: 180,-90,180,90

identification:
    charset: utf8
    # Primary language, metadata records are both in English and French when appropriate
    language: eng; CAN

    # Title source is: https://wiki.cmc.ec.gc.ca/wiki/CPOP/Liste_des_systemes
    title_en: Global Ensemble Prediction System
    title_fr: Système global de prévision d'ensemble
    # Abstracts found on https://wiki.cmc.ec.gc.ca/wiki/DPS/Metadata/Descriptions#GEPS_.2F_SGPE
    abstract_en: The Global Ensemble Prediction System (GEPS) carries out physics calculations to arrive at probabilistic predictions of atmospheric elements from the current day out to 16 days into the future (up to 32 days once a week on Thursdays at 00UTC). The GEPS produces different outlooks (scenarios) to estimate the forecast uncertainties due the nonlinear (chaotic) behaviour of the atmosphere. The probabilistic predictions are based on an ensemble of 20 scenarios that differ in their initial conditions, choice of physics parametrization as well as stochastic perturbations (physical tendencies and kinetic energy). A control member that is not perturbed is also available. Weather elements include temperature, precipitation, cloud cover, wind speed and direction, humidity and others. This product contains raw numerical results of these calculations. Geographical coverage is global. Data is available at a horizontal resolution of 1 degree (about 111 km at equator). Data is available for 11 vertical levels. Predictions are performed twice a day.
    abstract_fr: Le Système global de prévision d'ensemble (SGPE) procède à des calculs physiques afin de produire des prévisions probabilistes d'éléments de l'atmosphère du jour présent jusqu'à 16 jours dans le futur (jusqu'à 32 jours les jeudis à 00 UTC). Le SGPE génère différentes prévisions (scénarios) pour estimer les incertitudes des prévisions causées par le comportement non-linéaire (chaotique) de l'atmosphère. Les prévisions probabilistes sont basées sur un ensemble de 20 scénarios qui diffèrent par leurs conditions initiales, leur choix des paramétrages physiques ainsi que par des perturbations stochastiques (tendances physiques et énergie cinétique). Un membre de contrôle qui n'est pas perturbé est également fournit. Les éléments de l'atmosphère incluent notamment la température, les précipitations, le couvert nuageux, la vitesse et direction des vents et l'humidité. Ce produit contient les résultats numériques bruts de ces calculs. La couverture géographique est globale. La résolution spatiale horizontale des données est de 1 degré (environ 111 km à l'équateur). Les données sont offertes pour 11 niveaux verticaux. Les prévisions sont exécutées deux fois par jour.

    dates:
        # Next is the reference date for the cited resource
        # Source: provided by Normand Gagnon by email
        # Set to publication: metadata is published and has not been revised yet, there was some metadata when it became available
        creation: 1996-01-24
        # The following $date$ value is updated when pygeometa is ran
        publication: $date$

    keywords:
        default:
            # No non-CST keywords specified for this dataset
            keywords_en:
                - Probabilistic predictions
                - Global
                - Ensemble
            keywords_fr:
                - Prévisions probabilistes
                - Global
                - Ensemble

        # A minimum of one gc_cst keyword from http://www.thesaurus.gc.ca/default.asp?lang=En&n=EAEAD1E6-1 is required
        gc_cst:
            # keywords_type is constrained by a list
            keywords_type: theme
            # For keywords, see https://wiki.cmc.ec.gc.ca/wiki/DPS/Metadata/Keywords
            keywords_en:
                - Weather forecasts
                - Precipitation
                - Air temperature
                - Humidity
                - Snow
                - Wind
                - Meteorological data
            keywords_fr:
                - Prévisions météorologiques
                - Précipitation
                - Température de l'air
                - Humidité
                - Neige
                - Vent
                - Données météorologiques

        # Amongst the possible values from ECDC: Air, Air - Quality, Other, Pollution and Waste, Water, Weather and Climate   => French counterparts: Temps et climat
        hnap_category_information:
            keywords_en:
                - Weather and Climate
            keywords_fr:
                - Temps et climat
        # Amongst the possible values from ECDC: International  => French counterparts: Internationale
        hnap_category_geography:
            keywords_en:
                - International
            keywords_fr:
                - Internationale
        # Amongst the possible values from ECDC: Atmosphere => French counterparts: Atmosphère
        hnap_category_content:
            keywords_en:
                - Atmosphere
            keywords_fr:
                - Atmosphère

    # topiccategory value is constrained by a list, fixed to climatologyMeteorologyAtmosphere
    topiccategory:
        - climatologyMeteorologyAtmosphere

    fees: None
    accessconstraints: otherRestrictions
    rights_en: Open Government Licence - Canada (http://open.canada.ca/en/open-government-licence-canada)
    rights_fr: Licence du gouvernement ouvert - Canada (http://ouvert.canada.ca/fr/licence-du-gouvernement-ouvert-canada)

    # The next URL points to the html documentation, if any, otherwise, to the data source
    url_en: http://weather.gc.ca/ensemble/index_e.html
    url_fr: http://meteo.gc.ca/ensemble/index_f.html

    # temporal_begin is mandatory, for ongoing datasets it is set to the day it first became available
    temporal_begin: 1996-01-24
    temporal_end: now
    status: onGoing
    # Best fit amongst the possible options, see MCF_Reference.md
    maintenancefrequency: continual


distribution:
    waf_eng-CAN: &id_waf_eng-CAN
        base_mcf: ../shared/distribution-datamart.yml
        url: https://dd.weather.gc.ca/ensemble/naefs/
        format_en: GRIB2
        format_fr: GRIB2
        format_version: 2
    waf_fra-CAN:
        <<: *id_waf_eng-CAN

    #wms_eng-CAN: &id_wms_eng-CAN
    #    base_mcf: ../shared/distribution-geomet.yml
    #    url: https://geo.weather.gc.ca/geomet/?lang=E&service=WMS&request=GetCapabilities&layers=REPS.DIAG.24H
    #    name_en: REPS.DIAG.24H
    #    name_fr: REPS.DIAG.24H
    #wms_fra-CAN:
    #    <<: *id_wms_eng-CAN
    #    url: https://geo.weather.gc.ca/geomet/?lang=F&service=WMS&request=GetCapabilities&layers=REPS.DIAG.24H

    amqps_eng-CAN: &id_amqps_eng-CAN
        base_mcf: ../shared/distribution-datamart-amqps.yml
        url: amqps://dd.weather.gc.ca/ensemble.naefs.grib2.#
        format_en: GRIB2
        format_fr: GRIB2
        format_version: 2
    amqps_fra-CAN:
        <<: *id_amqps_eng-CAN
