%YAML 1.1
---
### Metadata Control File for the following dataset:
### Canadian Arctic Prevision System (CAPS)
### available on the MSC Datamart and MSC GeoMet
#
## Documentation about how this file is used:
# https://wiki.cmc.ec.gc.ca/wiki/DPS/Metadata
#
## Documentation about MCF syntax:
# https://github.com/geopython/pygeometa/blob/master/doc/MCF_Reference.md
#
## Important notes about this dataset:
# This is the MCF file for the CAPS dataset on the MSC Datamart (alpha) and MSC GeoMet
# Other MCF files might exist specifically for the CAPS-windows datasets
#
###

#pygeometa mcf info
mcf:
    version: 1.0

# Inheriting contact information from main-contact.yml
base_mcf: ../shared/contact-main.yml

metadata:
    charset: utf8
    hierarchylevel: dataset
    # Identifier, see https://wiki.cmc.ec.gc.ca/wiki/DPS/Metadata/UUID , URL USED: http://dd.alpha.meteo.gc.ca/yopp/model_caps/
    identifier: 0a7a49df-e464-5649-a094-33965c0345e5
    # Primary language of the record, metadata still supports multiple languages
    language: en
    language_alternate: fr
    # The following $date$ value is updated when pygeometa is ran
    datestamp: $date$
    # dataseturi is optional according to the HNAP Guidelines, but is mandatory for pygeometa
    #### Next line will be updated according once we to the MSC Data Taxonomy...
    dataseturi: urn:x-msc-smc:md:weather-meteo::nwp.caps
    # parentidentifier is conditional to an existing higher level
    # parentidentifier=someparentid -> NO PARENT ID for the generic nwp.gdps dataset 

spatial:
    datatype: grid
    geomtype: solid
    crs: 4326
    bbox: -136.6, 46.7, 26.6, 54.3

identification:
    # Primary language, metadata records are both in English and French when appropriate
    language: eng; CAN
    charset: utf8
    # Title source is: http://dd.alpha.meteo.gc.ca/yopp/model_caps/doc/README_CAPS.txt
    title_en: Canadian Arctic Prediction System [experimental]
    title_fr: Système canadien de prévision de l'Arctique [expérimental]
    # Title source is: http://dd.alpha.meteo.gc.ca/yopp/model_caps/doc/README_CAPS.txt and validated by Shunli Zhang
    abstract_en: The Canadian Arctic Prediction System (CAPS) provides an important contribution to various scientific experiments that are part of the Year of polar prediction (YOPP) and provides km-scale NWP forecasts for the canadian Arctic. The CAPS is a GEM-based deterministic prediction system, very similar to the current High Resolution Deterministic Prediction System North domain (HRDPS-North) which will be replaced by the CAPS. CAPS is downscaled from ECCC's Global Deterministic Prediction System, the GDPS, which provides initial conditions and lateral boundary conditions for the atmospheric fields.  In the current system, which is not yet coupled to the ice-ocean prediction system, all initial surface fields come from the global configuration of the land-data assimilation system, CaLDAS. The system is running on a 3 km domain of 2250 x 1850 horizontal grid points (covering the entire Arctic basin and Hudson Bay) and 62 vertical levels. The major differences between CAPS and the current HRDPS is the introduction of the predicted particle properties (P3) cloud microphysics scheme, which is responsible for parameterizing the grid-scale clouds and precipitation.
    abstract_fr: Le système canadien de prévision de l'Arctique (SCPA) fournira une contribution importante à diverses expériences scientifiques qui font partie de l'année de la prévision polaire (YOPP) et fournira des prévisions numériques du temps à l'échelle kilométrique dans l'Arctique canadien. SCPA est un système de prévision basé sur GEM, très similaire au système à haute résolution de prévision déterministe (SHRPD), dont le domaine nord actuel sera remplacé par le SCPA. C'est un modèle à réduction d'échelle du système de prévision global déterministe (SGPD) de ECCC qui lui fournit les conditions initiales et aux frontières pour les champs atmosphériques. Dans le système actuel, qui n'est pour le moment pas encore couplé avec le système de prévision océan-glace, tous les champs de surface initiaux proviennent de la configuration globale du système d'assimilation de surface CaLDAS. SCPA tourne sur une grille horizontale 2250 x 1850 , d'une résolution approximative de 3 km (couvrant le bassin arctique et la Baie d'Hudson). La différence majeure entre le SCPA et le SHRPD actuel est l'introduction de la nouvelle méthode de calcul pour la microphysique des nuages appelée prédiction des propriétés des particules (P3) qui est responsable du paramétrage des nuages et des précipitations.

    # 
    dates:
        # Date when the model became publicly accessible (http://collaboration.cmc.ec.gc.ca/cmc/CMOI/product_guide/docs/changes_e.html#20180124_caps_1.0.0 and https://lists.ec.gc.ca/pipermail/dd_info/2018-January/000257.html)
        creation: 2018-01-24
        # The following $date$ value is updated when pygeometa is ran
        publication: $date$

    keywords:
        default:
            # No non-CST keywords specified for this dataset
            keywords_en:
                - Prediction
                - Canadian Arctic
                - Downscaling
            keywords_fr:
                - Prévision
                - Arctique canadien
                - Réduction d'échelle
        # A minimum of one keyword from http://www.thesaurus.gc.ca/default.asp?lang=En&n=EAEAD1E6-1 is required
        gc_cst:
            # keywords_type is constrained by a list
            keywords_type: theme
            # For gc_cst keywords, see https://wiki.cmc.ec.gc.ca/wiki/DPS/Metadata/Keywords
            keywords_en:
                - Weather forecasts
                - Precipitation
                - Air temperature
                - Humidity
                - Snow
                - Wind
                - Meteorological data
            keywords_fr:
                - Prévisions météorologiques
                - Précipitation
                - Température de l'air
                - Humidité
                - Neige
                - Vent
                - Données météorologiques

        # Amongst the possible values from ECDC: Air, Air - Quality, Other, Pollution and Waste, Water, Weather and Climate   => French counterparts: Temps et climat
        # PUT above in HNAP github doc !

        hnap_category_information:
            keywords_en:
                - Weather and Climate
            keywords_fr:
                - Temps et climat
        # Amongst the possible values from ECDC: International  => French counterparts: Internationale
        hnap_category_geography:
            keywords_en:
                - National (CA)
                - Water - Ocean Basin - Arctic Ocean
                - Water - Ocean Basin - Hudson Bay
            keywords_fr:
                - Nationale (CA)
                - Eau - Bassin océanique - Océan Arctique
                - Eau - Basson océanique - Baie d'Hudson
        # Amongst the possible values from ECDC: Atmosphere => French counterparts: Atmosphère
        hnap_category_content:
            keywords_en:
                - Atmosphere
            keywords_fr:
                - Atmosphère

    # topiccategory value is constrained by a list, fixed to climatologyMeteorologyAtmosphere
    topiccategory:
        - climatologyMeteorologyAtmosphere

    fees: None
    accessconstraints: otherRestrictions
    rights_en: Open Government Licence - Canada (http://open.canada.ca/en/open-government-licence-canada)
    rights_fr: Licence du gouvernement ouvert - Canada (http://ouvert.canada.ca/fr/licence-du-gouvernement-ouvert-canada)

    # The next URL points to the html documentation, if any, otherwise, to the data source
    url_en: http://dd.alpha.meteo.gc.ca/yopp/model_caps/doc/README_CAPS.txt
    url_fr: http://dd.alpha.meteo.gc.ca/yopp/model_caps/doc/README_CAPS.txt

    # temporal_begin is mandatory, for ongoing datasets it is set to the day it first became available
    # (http://collaboration.cmc.ec.gc.ca/cmc/CMOI/product_guide/docs/changes_e.html#20180124_caps_1.0.0)
    temporal_begin: 2018-01-24
    temporal_end: now
    status: onGoing
    # Best fit amongst the possible options, see MCF_Reference.md
    maintenancefrequency: continual


distribution:
    waf_eng-CAN: &id_waf_eng-CAN
        base_mcf: ../shared/distribution-datamart.yml
        url: https://dd.alpha.meteo.gc.ca/yopp/model_caps/grib2/
        # Accepted values for format: AI. AMF,Application,ASCII Grid,BMP,CDED ASCII,CDR,CSV,DOC,dxf,E00,ECW,EDI,EMF,EPS,ESRI REST,EXE,FGDB / GDB,Flat raster binary,GeoPDF,GeoRSS,GeoTIF,GIF,GML,HDF,HTML,IATI,JPEG 2000,JPG,JSON,JSON Lines,KML / KMZ,NetCDF,ODP,ODS,ODT,PDF,PNG,PPT,RDF,RDFa,RSS,SAR / CCT,SAV,SEGY,SHP,SQL,SVG,TIFF,TXT,XLS,XLSM,XML,WFS,WMS,WMTS,Zip,Other
        format_en: GRIB2
        format_fr: GRIB2
        format_version: 2
    waf_fra-CAN:
        <<: *id_waf_eng-CAN
    wms_eng-CAN: &id_wms_eng-CAN
        base_mcf: ../shared/distribution-geomet.yml
        url: https://geo.weather.gc.ca/geomet-beta/?lang=E&service=WMS&request=GetCapabilities
        # For WMS, name_en and name_fr are the 'default layer' associated to the dataset
        name_en: CAPS_TT
        name_fr: CAPS_TT
    wms_fra-CAN:
        <<: *id_wms_eng-CAN
        url: https://geo.weather.gc.ca/geomet-beta/?lang=F&service=WMS&request=GetCapabilities
    amqps_eng-CAN: &id_amqps_eng-CAN
        base_mcf: ../shared/distribution-datamart-amqps.yml
        # Example value for url: amqps://dd.weather.gc.ca/model_gem_global.25km.grib2.#
        url: amqps://dd.alpha.meteo.gc.ca/yopp.model_caps.grib2.#
        # Accepted values for format: AI. AMF,Application,ASCII Grid,BMP,CDED ASCII,CDR,CSV,DOC,dxf,E00,ECW,EDI,EMF,EPS,ESRI REST,EXE,FGDB / GDB,Flat raster binary,GeoPDF,GeoRSS,GeoTIF,GIF,GML,HDF,HTML,IATI,JPEG 2000,JPG,JSON,JSON Lines,KML / KMZ,NetCDF,ODP,ODS,ODT,PDF,PNG,PPT,RDF,RDFa,RSS,SAR / CCT,SAV,SEGY,SHP,SQL,SVG,TIFF,TXT,XLS,XLSM,XML,WFS,WMS,WMTS,Zip,Other
        format_en: GRIB2
        format_fr: GRIB2
        format_version: 2
    amqps_fra-CAN:
        <<: *id_amqps_eng-CAN

extra:
    publish-locations:
        - yopp
